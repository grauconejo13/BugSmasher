{"version":3,"sources":["BugSmasher1.js"],"names":["canvas","document","getElementById","width","height","style","cursor","catx2d","getContext","canLeft","offsetLeft","canTop","offsetTop","bgReady","bgImage","Image","onload","src","bugReady","bugImage","bug","score","speed","newSpeed","speedFactor","reset","x","Math","random","y","resetScore","then","Date","now","resetSpeed","pickBug","e","pageX","pageY","render","drawImage","fillStyle","font","textAlign","textBaseline","fillText","main","difNum","requestAnimationFrame","d","window","webkitRequestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","createEventListeners","addEventListener"],"mappings":"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","sourcesContent":["//Vanessa Victorino - 301201653\r\n//Circa JAN2022\r\n\r\n\"use strict\";\r\n\r\n// Create the canvas\r\nvar canvas = document.getElementById(\"canvas\");\r\ncanvas.width = 981;\r\ncanvas.height = 552;\r\ncanvas.style.cursor = \"pointer\";\r\n\r\nvar catx2d = canvas.getContext(\"2d\");\r\nvar canLeft = canvas.offsetLeft;\r\nvar canTop = canvas.offsetTop;\r\n\r\n// Background image\r\nvar bgReady = false;\r\nvar bgImage = new Image();\r\nbgImage.onload = function() {\r\n    bgReady = true;\r\n};\r\nbgImage.src = \"wall2-2.jpg\";\r\n\r\n\r\n// bug objects\r\nvar bugReady = false;\r\nvar bugImage = new Image();\r\nvar bug = {};\r\nvar score = 0;\r\nbugImage.onload = function() {\r\n    bugReady = true;\r\n};\r\nbugImage.src = \"scarab1.png\";\r\n\r\n// Speed / time variables \r\nvar speed = 2000;\r\nvar newSpeed = speed;\r\nvar speedFactor = 1.2;\r\n\r\n// Changes in the game when the user clicks on the bug\r\nvar reset = function() {\r\n    // Places the bug randomly on the canvas\r\n    bug.x = 60 + (Math.random() * (canvas.width - 120));\r\n    bug.y = 60 + (Math.random() * (canvas.height - 120));\r\n};\r\n\r\n// Reset the game score when the user clicks reset score button\r\nfunction resetScore() {\r\n    newSpeed = speed;\r\n    score = 0;\r\n    reset();\r\n    then = Date.now();\r\n}\r\n\r\n// Reset speed of bug object \r\nfunction resetSpeed() {\r\n    newSpeed = speed;\r\n    then = Date.now();\r\n}\r\n\r\n// Event listeners \r\nfunction pickBug(e) {\r\n    var x = e.pageX - canLeft;\r\n    var y = e.pageY - canTop;\r\n\r\n    if (y > bug.y && y < bug.y + 551 && x > bug.x && x < 980) {\r\n        score++;\r\n        reset();\r\n        newSpeed = newSpeed / speedFactor;\r\n        then = Date.now();\r\n    }\r\n}\r\n\r\n// Draw everything\r\nvar render = function() {\r\n    if (bgReady) {\r\n        catx2d.drawImage(bgImage, 0, 0);\r\n    }\r\n\r\n    if (bugReady) {\r\n        catx2d.drawImage(bugImage, bug.x, bug.y);\r\n    }\r\n\r\n    // Score indicator in the canvas\r\n    catx2d.fillStyle = \"rgb(232, 100, 12)\";\r\n    catx2d.font = \"28px arial\";\r\n    catx2d.textAlign = \"left\";\r\n    catx2d.textBaseline = \"top\";\r\n    catx2d.fillText(\"Score: \" + score, 20, 20);\r\n};\r\n\r\n\r\n// The main game loop\r\nvar main = function() {\r\n    var now = Date.now();\r\n    var difNum = now - then;\r\n\r\n    if (difNum > newSpeed) {\r\n        reset();\r\n    }\r\n    render();\r\n\r\n    if (difNum > newSpeed) {\r\n        then = Date.now();\r\n    }\r\n\r\n    requestAnimationFrame(main);\r\n};\r\n\r\n// Cross-browser support for requestAnimationFrame\r\nvar d = window;\r\nrequestAnimationFrame = d.requestAnimationFrame || d.webkitRequestAnimationFrame || d.msRequestAnimationFrame || d.mozRequestAnimationFrame;\r\n\r\nfunction createEventListeners() {\r\n    addEventListener(\"mousedown\", pickBug, false);\r\n    document.getElementById(\"resetScore\").addEventListener(\"click\", resetScore, false);\r\n    document.getElementById(\"resetSpeed\").addEventListener(\"click\", resetSpeed, false);\r\n}\r\n\r\n// Start game\r\nvar then = Date.now();\r\nreset();\r\nmain();\r\n\r\n//19FEB2024_issue - bug multiplying ~ need to be fix.\r\n/*function resizeCanvas() {\r\n    const canvas = document.getElementById('canvas');\r\n    const container = canvas.parentElement; // Assuming the canvas is directly inside the container div\r\n\r\n    // Set the maximum canvas size\r\n    const maxWidth = container.offsetWidth;\r\n    const maxHeight = window.innerHeight * 0.8; // Example: 80% of the viewport height\r\n\r\n    // Calculate aspect ratio, for example, 16:9\r\n    const aspectRatio = 16 / 9;\r\n\r\n    // Adjust width and height based on the aspect ratio\r\n    let newWidth = maxWidth;\r\n    let newHeight = newWidth / aspectRatio;\r\n\r\n    // If the new height exceeds maxHeight, adjust based on height instead\r\n    if (newHeight > maxHeight) {\r\n        newHeight = maxHeight;\r\n        newWidth = newHeight * aspectRatio;\r\n    }\r\n\r\n    canvas.width = newWidth;\r\n    canvas.style.width = `${newWidth}px`; // For CSS size\r\n    canvas.height = newHeight;\r\n    canvas.style.height = `${newHeight}px`; // For CSS size\r\n}\r\n\r\n// Listen for window resize events\r\nwindow.addEventListener('resize', resizeCanvas);\r\n\r\n// Initialize canvas size on load\r\nwindow.addEventListener('load', resizeCanvas);*/\r\n\r\nwindow.addEventListener(\"load\", createEventListeners, false);"],"file":"BugSmasher1.dev.js"}