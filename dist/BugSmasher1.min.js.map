{"version":3,"sources":["BugSmasher1.js"],"names":["canvas","document","getElementById","style","cursor","catx2d","canLeft","offsetLeft","getContext","bgReady","bgImage","Image","onload","bugReady","bugImage","score","src","speed","reset","speedFactor","bug","x","Math","random","width","y","resetScore","height","then","Date","newSpeed","resetSpeed","pickBug","now","e","pageX","pageY","canTop","render","drawImage","fillStyle","fillText","font","textAlign","textBaseline","main","difNum","requestAnimationFrame","d","addEventListener","createEventListeners","msRequestAnimationFrame","mozRequestAnimationFrame","window"],"mappings":"AAGA,aAKAA,IAAAA,OAAAC,SAAAC,eAAA,UACAF,OAAOG,MAAMC,IAEbJ,OAAIK,OAASL,IACbA,OAAIM,MAAOF,OAAUG,UADrB,IAAIF,OAASL,OAAOQ,WAAW,MAK3BC,QAAUT,OAAdO,WACIG,OAAOV,OAAOW,UAEdF,SAAU,EADdC,QAAA,IAAAC,MAAAD,QAAQE,OAAS,WAGjBF,SAAc,GAId,IAAIG,WAAJH,QAAIG,IAAQ,eAIZC,SAAA,IAAkBH,MACdE,IAAQ,GADZE,MAAA,EAAAD,SAASF,OAAS,WAGlBE,UAAe,GAGfA,SAASE,IAAG,cAAZ,IAAIC,MAAQ,IAKRC,SAAQD,MACRE,YAAA,IAKJD,MAAA,WAJIE,IAAIC,EAAI,GAAMC,KAAKC,UAAYvB,OAAOwB,MAAQ,KAKlDJ,IAAAK,EAASC,GAAAA,KAAaH,UAAAvB,OAAA2B,OAAA,MAIlBC,SAAOC,aAGXC,SAAAb,MALIF,MAAQ,EACRG,QAKJU,KAASG,KAAAA,MAAT,SAASA,aACLD,SAAWb,MAKfW,KAASI,KAATC,MAII,SAAKD,QAADE,GACAnB,IAAAA,EAAKmB,EAAAC,MAAA7B,QACLY,EAAKgB,EAAAE,MAAAC,OAEDZ,EAAGI,IAAKI,GAAZR,EAAAL,IAAAK,EAAA,KAAAJ,EAAAD,IAAAC,GAAAA,EAAA,MACHN,QAGLG,QALQY,UAAsBX,YACtBS,KAAOC,KAAKI,OAKpB,IAAIK,OAAS,WAKLzB,SACAR,OAAOkC,UAAUzB,QAAa,EAA9B,GADAD,UAKER,OAACmC,UAAY1B,SAAAM,IAAAC,EAAnBD,IAAAK,GAIApB,OAAOoC,UAAS,oBAIpBpC,OAAAqC,KAAA,aANIrC,OAAOsC,UAAY,OACnBtC,OAAOuC,aAAe,MAMtBC,OAAOJ,SAAPI,UAAkB9B,MAAA,GAAA,KAKdG,KAAK,SAALA,IACH,IAJG4B,EAIHjB,KAAAI,MAJkBL,KAENE,SAATgB,GAKAA,QAEHR,SAEDS,SAAAA,IAGJnB,KAAAC,KAAAI,OACIe,sBAAJH,IAIII,EAAAA,OAGH,SAEDC,uBALID,iBAAiB,YAAajB,SAAS,GACvC/B,SAASC,eAAe,cAAc+C,iBAAiB,QAASvB,YAAY,GAK5EE,SAAOC,eAAX,cAAAoB,iBAAA,QAAAlB,YAAA,GALI9B,sBAASC,EAAe6C,uBAAcE,EAAAA,6BAAtCD,EAAAG,yBAAAH,EAAAI,yBAUJ,IAAAxB,KAAAC,KAAAI,MAJAf,QACA2B,OAoCAQ,OAAOJ,iBAAiB,OAAQC,sBAAsB","file":"BugSmasher1.min.js","sourcesContent":["//Vanessa Victorino - 301201653\r\n//Circa JAN2022\r\n\r\n\"use strict\";\r\n\r\n// Create the canvas\r\nvar canvas = document.getElementById(\"canvas\");\r\ncanvas.width = 981;\r\ncanvas.height = 552;\r\ncanvas.style.cursor = \"pointer\";\r\n\r\nvar catx2d = canvas.getContext(\"2d\");\r\nvar canLeft = canvas.offsetLeft;\r\nvar canTop = canvas.offsetTop;\r\n\r\n// Background image\r\nvar bgReady = false;\r\nvar bgImage = new Image();\r\nbgImage.onload = function() {\r\n    bgReady = true;\r\n};\r\nbgImage.src = \"wall2-2.jpg\";\r\n\r\n\r\n// bug objects\r\nvar bugReady = false;\r\nvar bugImage = new Image();\r\nvar bug = {};\r\nvar score = 0;\r\nbugImage.onload = function() {\r\n    bugReady = true;\r\n};\r\nbugImage.src = \"scarab1.png\";\r\n\r\n// Speed / time variables \r\nvar speed = 2000;\r\nvar newSpeed = speed;\r\nvar speedFactor = 1.2;\r\n\r\n// Changes in the game when the user clicks on the bug\r\nvar reset = function() {\r\n    // Places the bug randomly on the canvas\r\n    bug.x = 60 + (Math.random() * (canvas.width - 120));\r\n    bug.y = 60 + (Math.random() * (canvas.height - 120));\r\n};\r\n\r\n// Reset the game score when the user clicks reset score button\r\nfunction resetScore() {\r\n    newSpeed = speed;\r\n    score = 0;\r\n    reset();\r\n    then = Date.now();\r\n}\r\n\r\n// Reset speed of bug object \r\nfunction resetSpeed() {\r\n    newSpeed = speed;\r\n    then = Date.now();\r\n}\r\n\r\n// Event listeners \r\nfunction pickBug(e) {\r\n    var x = e.pageX - canLeft;\r\n    var y = e.pageY - canTop;\r\n\r\n    if (y > bug.y && y < bug.y + 551 && x > bug.x && x < 980) {\r\n        score++;\r\n        reset();\r\n        newSpeed = newSpeed / speedFactor;\r\n        then = Date.now();\r\n    }\r\n}\r\n\r\n// Draw everything\r\nvar render = function() {\r\n    if (bgReady) {\r\n        catx2d.drawImage(bgImage, 0, 0);\r\n    }\r\n\r\n    if (bugReady) {\r\n        catx2d.drawImage(bugImage, bug.x, bug.y);\r\n    }\r\n\r\n    // Score indicator in the canvas\r\n    catx2d.fillStyle = \"rgb(232, 100, 12)\";\r\n    catx2d.font = \"28px arial\";\r\n    catx2d.textAlign = \"left\";\r\n    catx2d.textBaseline = \"top\";\r\n    catx2d.fillText(\"Score: \" + score, 20, 20);\r\n};\r\n\r\n\r\n// The main game loop\r\nvar main = function() {\r\n    var now = Date.now();\r\n    var difNum = now - then;\r\n\r\n    if (difNum > newSpeed) {\r\n        reset();\r\n    }\r\n    render();\r\n\r\n    if (difNum > newSpeed) {\r\n        then = Date.now();\r\n    }\r\n\r\n    requestAnimationFrame(main);\r\n};\r\n\r\n// Cross-browser support for requestAnimationFrame\r\nvar d = window;\r\nrequestAnimationFrame = d.requestAnimationFrame || d.webkitRequestAnimationFrame || d.msRequestAnimationFrame || d.mozRequestAnimationFrame;\r\n\r\nfunction createEventListeners() {\r\n    addEventListener(\"mousedown\", pickBug, false);\r\n    document.getElementById(\"resetScore\").addEventListener(\"click\", resetScore, false);\r\n    document.getElementById(\"resetSpeed\").addEventListener(\"click\", resetSpeed, false);\r\n}\r\n\r\n// Start game\r\nvar then = Date.now();\r\nreset();\r\nmain();\r\n\r\n//19FEB2024_issue - bug multiplying ~ need to be fix.\r\n/*function resizeCanvas() {\r\n    const canvas = document.getElementById('canvas');\r\n    const container = canvas.parentElement; // Assuming the canvas is directly inside the container div\r\n\r\n    // Set the maximum canvas size\r\n    const maxWidth = container.offsetWidth;\r\n    const maxHeight = window.innerHeight * 0.8; // Example: 80% of the viewport height\r\n\r\n    // Calculate aspect ratio, for example, 16:9\r\n    const aspectRatio = 16 / 9;\r\n\r\n    // Adjust width and height based on the aspect ratio\r\n    let newWidth = maxWidth;\r\n    let newHeight = newWidth / aspectRatio;\r\n\r\n    // If the new height exceeds maxHeight, adjust based on height instead\r\n    if (newHeight > maxHeight) {\r\n        newHeight = maxHeight;\r\n        newWidth = newHeight * aspectRatio;\r\n    }\r\n\r\n    canvas.width = newWidth;\r\n    canvas.style.width = `${newWidth}px`; // For CSS size\r\n    canvas.height = newHeight;\r\n    canvas.style.height = `${newHeight}px`; // For CSS size\r\n}\r\n\r\n// Listen for window resize events\r\nwindow.addEventListener('resize', resizeCanvas);\r\n\r\n// Initialize canvas size on load\r\nwindow.addEventListener('load', resizeCanvas);*/\r\n\r\nwindow.addEventListener(\"load\", createEventListeners, false);"]}